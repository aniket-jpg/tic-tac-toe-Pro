<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
    
    <!-- Link to your new CSS file -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Link to the Web App Manifest -->
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- Screen reader status updates -->
    <div id="aria-live-region" class="sr-only" aria-live="polite"></div>
    
    <!-- Container for the shatter effect -->
    <div id="shatter-container"></div>

    <!-- App Container -->
    <div class="app-container">
        <!-- Universal Back Button: Position is fixed, behavior is controlled by JS -->
        <button id="universalBackButton" class="btn btn-secondary btn-back" style="display: none;" aria-label="Go back">Back</button>

        <!-- Main Menu View -->
        <div id="mainMenu" class="view active">
            <h1>Pro Tic Tac Toe</h1>
            <button id="pvcButton" class="btn btn-primary">Player vs AI</button>
            <button id="pvpButton" class="btn btn-primary">Player vs Player</button>
        </div>
        
        <!-- Symbol Selection View (for PVC) -->
        <div id="symbolSelection" class="view">
            <h1>Choose Your Mark</h1>
            <button class="btn btn-secondary symbol-choice" data-symbol="x">Play as X</button>
            <button class="btn btn-secondary symbol-choice" data-symbol="o">Play as O</button>
        </div>

        <!-- Difficulty Selection View -->
        <div id="difficultySelection" class="view">
            <h1>Select Difficulty</h1>
            <button id="easyButton" class="btn btn-secondary" data-difficulty="easy">Easy</button>
            <button id="hardButton" class="btn btn-secondary" data-difficulty="hard">Hard</button>
        </div>

        <!-- Game Screen View -->
        <div id="gameScreen" class="view">
            <div class="game-header">
                <div id="score-display" class="score-display" aria-live="polite"></div>
                <div id="turn-display" class="turn-display"></div>
            </div>
            <div class="game-board-container">
                <div id="gameBoard" role="grid">
                    <div class="cell" role="gridcell" data-cell-index="0"></div><div class="cell" role="gridcell" data-cell-index="1"></div><div class="cell" role="gridcell" data-cell-index="2"></div>
                    <div class="cell" role="gridcell" data-cell-index="3"></div><div class="cell" role="gridcell" data-cell-index="4"></div><div class="cell" role="gridcell" data-cell-index="5"></div>
                    <div class="cell" role="gridcell" data-cell-index="6"></div><div class="cell" role="gridcell" data-cell-index="7"></div><div class="cell" role="gridcell" data-cell-index="8"></div>
                </div>
                <svg id="winning-line"><line class="line" x1="0" y1="0" x2="0" y2="0"/></svg>
            </div>
        </div>
        
        <!-- Overlays -->
        <div id="winningMessage" class="overlay">
            <div id="winningMessage-text"></div>
            <button id="restartButton" class="btn btn-primary">Play Again</button>
        </div>
        <div id="aiThinkingOverlay" class="overlay">
            <div id="ai-thinking-text">AI is thinking...</div>
        </div>
    </div>
    
    <!-- Link to your new JavaScript file -->
    <script src="script.js"></script>
</body>
</html>